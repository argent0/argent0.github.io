<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<!-- Use the title from a page's frontmatter if it has one -->
		<title>Medical Appointments No-show</title>
		<!--link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"-->
		<!--link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue.css"-->
		<link href="/stylesheets/site.css" rel="stylesheet" />
		<script src="/javascripts/site.js"></script>
	</head>
	<body>
		<nav class="w3-bar">
			Home
			/
			<a href="/articles/articles.html">Articles</a>
			/
			<a href="/about/about.html">About</a>
		</nav>
		<div class="w3-content">
			<header>
				<h1> Aner's Site </h1>
			</header>

			<div class="w3-cell page-content">
					<article>
		<h1>Medical Appointments No-show</h1>
		<h2 id="context">Context</h2>

<p>From the source:</p>

<blockquote>
  <p>A person makes a doctor appointment, receives all the instructions and
no-show. Who to blame?</p>
</blockquote>

<p>The objectives of this exploration are:
First, to visually present the composition of the sample data;
And second, to show how the appointments' features relate to whether the
patients will show up nor not.</p>

<h2 id="available-features">Available Features.</h2>

<p>The structure of the data is:</p>

<div class="highlight"><pre class="highlight plaintext"><code>## 'data.frame':	110527 obs. of  14 variables:
##  $ PatientId     : num  2.99e+13 5.59e+14 4.26e+12 8.68e+11 8.84e+12 ...
##  $ AppointmentID : int  5642903 5642503 5642549 5642828 5642494 5626772 5630279 5630575 5638447 5629123 ...
##  $ Gender        : Factor w/ 2 levels "F","M": 1 2 1 1 1 1 1 1 1 1 ...
##  $ ScheduledDay  : Factor w/ 103549 levels "2015-11-10T07:13:56Z",..: 27742 27504 27539 27709 27498 20074 21386 21496 24945 20895 ...
##  $ AppointmentDay: Factor w/ 27 levels "2016-04-29T00:00:00Z",..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ Age           : int  62 56 62 8 56 76 23 39 21 19 ...
##  $ Neighbourhood : Factor w/ 81 levels "AEROPORTO","ANDORINHAS",..: 40 40 47 55 40 59 26 26 2 13 ...
##  $ Scholarship   : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ Hipertension  : int  1 0 0 0 1 1 0 0 0 0 ...
##  $ Diabetes      : int  0 0 0 0 1 0 0 0 0 0 ...
##  $ Alcoholism    : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ Handcap       : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ SMS_received  : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ No.show       : Factor w/ 2 levels "No","Yes": 1 1 1 1 1 1 2 2 1 1 ...
</code></pre></div>
<p>Next are some variables that might require a short explanation:</p>

<ul>
  <li><strong>ScheduledDay</strong>: The day the appointment was scheduled.</li>
  <li><strong>AppointmentDay</strong>: The day of the appointment.</li>
  <li><strong>Neighbourhood</strong>: The Neighbourhood where the clinic is located.</li>
  <li><strong>Scholarship</strong>: 1 if the person receives
<a href="https://en.wikipedia.org/wiki/Bolsa_Fam%C3%ADlia">aid from the government</a>.</li>
  <li><strong>Handcap</strong>: According to the source, A number that represents the person's
disabilities.</li>
  <li><strong>SMS_received</strong>: Whether the people received an SMS reminding them of the
appointment.</li>
  <li><strong>No.show</strong>: The value "Yes", means that the person missed the appointment.
The value "No", means that the person didn't miss the appointment.</li>
</ul>

<h2 id="computing-derived-features">Computing Derived Features.</h2>

<p>One of the factors that might be relevant to the turn up ratio is the
length of time from the day the appointment was scheduled to the appointment
itself. Let us, thus, define:</p>

<p><strong>Wait</strong> as the number of days from the scheduling date to the appointment date.</p>

<h2 id="cleaning-the-data">Cleaning The Data</h2>

<p>Some rows with negative <code>Wait</code> or <code>Age</code> where ignored when performing the
analysis.</p>

<h2 id="data-composition">Data composition</h2>

<p>First a visualization of the sample's composition. Starting with the proportion
of missed appointments, which is the target of the study.</p>

<p><img src="/images/figure/no_show_distribution-1.svg" alt="plot of chunk no_show_distribution" /></p>

<p>Now, a visualization of the features and how they relate to the target.</p>

<p><strong>Gender</strong></p>

<p><img src="/images/figure/gender_distribution-1.svg" alt="plot of chunk gender_distribution" /></p>

<p><strong>Age</strong></p>

<p>After the age of 90 years there are only a few samples, so the proportions aren't
significative.</p>

<p><img src="/images/figure/hist_ages_2-1.svg" alt="plot of chunk hist_ages_2" /></p>

<p><strong>Waiting Time</strong></p>

<p>Most appointments are same-day or for the next day. Those
appointments also have better turn up. <em>Warning</em>, the histograms below have
non-uniform bin sizes.</p>

<p><img src="/images/figure/hist_wait_2-1.svg" alt="plot of chunk hist_wait_2" /></p>

<p><strong>Distribution of Neighbourhoods</strong></p>

<p><img src="/images/figure/hist_neighbourhood-1.svg" alt="plot of chunk hist_neighbourhood" /></p>

<p><strong>Distribution of other categorical variables</strong></p>

<p><img src="/images/figure/hists_categorical_variables-1.svg" alt="plot of chunk hists_categorical_variables" /></p>

<p>The last row of plots suggests that when <code>SMS_received == 0</code> the patient is more
likely to show up. <strong>Thus the <code>0</code> might mean that SMS was received</strong>.</p>

<h2 id="some-characteristics">Some Characteristics</h2>

<p><strong>Are there patients with more than one appointment on the same day?</strong></p>

<p>Yes, but most have only one.</p>

<div class="highlight"><pre class="highlight plaintext"><code>## Appointments per day
##     1     2     3     4     5     6     8    10 
## 94323  6531   739   157    33    18     1     1
</code></pre></div>
<p><strong>How does showing up for the prevoius appointment predicts showing up for the
next?</strong></p>

<p>Patients that showed up for their previous appointment are more
likely to show up again.</p>

<p><img src="/images/figure/previous_appointment-1.svg" alt="plot of chunk previous_appointment" /></p>

<h2 id="extragender-composition-by-age">[EXTRA]Gender Composition By Age</h2>

<p><strong>Why is the proportion of women so large?</strong></p>

<p><img src="/images/figure/age_by_gender-1.svg" alt="plot of chunk age_by_gender" /></p>

<p>There is a sharp drop in the proportion of men after the age of 16.</p>

<p><strong>License</strong></p>

<p>Released under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a>.
Attributed to Kaggle's user <a href="https://www.kaggle.com/joniarroba">JoniHoppen</a>
(<a href="https://twitter.com/jonihoppen">Twitter</a>,<a href="https://www.linkedin.com/in/joniarroba/">LinkedIn</a>).
Changes where made to the data as shown in the code.</p>

<p>Source code available on
<a href="https://github.com/argent0/medical-appointment-no-show">Github</a>.</p>

	</article>

			</div>

		</div>
		<footer class="w3-container w3-theme-d5">
			<p> Copyright 2017 Aner Lucero </p>
		</footer>
	</body>
</html>
